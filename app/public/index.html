<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/icon_lg.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="BDLT Community" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/icon_lg.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <link rel="stylesheet" href="./style/style.css" />
    <title>SuperTron</title>
</head>

<body class="dark_body">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root" style="overflow: hidden;"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <style data-jss="" data-meta="makeStyles">
        .jss1 {
            flex-grow: 1;
        }
        
        .jss2 {
            top: 50%;
            left: 50%;
            position: absolute;
            margin-top: -12px;
            margin-left: -12px;
        }
    </style>
    <!--Start of Tawk.to Script-->
    <!-- <script type="text/javascript">
        var Tawk_API = Tawk_API || {},
            Tawk_LoadStart = new Date();
        (function() {
            var s1 = document.createElement("script"),
                s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/61c6ed2c80b2296cfdd3c11c/1fnogsuag';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    End of Tawk.to Script -->
</body>
<script src="https://bscscan.com/assets/js/custom/web3-utils.min.js"></script>
<script src="https://bscscan.com/assets/js/custom/web3-providers-http.min.js"></script>
<script src="https://bscscan.com/assets/js/custom/web3-eth.min.js"></script>
<script>
      var eth;
        var isTestnet = 'false';

        async function addNetwork(type) {

            if (type === 'web3') {
                if (typeof ethereum !== 'undefined') {
                    eth = new Web3Eth(ethereum);
                } else if (typeof web3 !== 'undefined') {
                    eth = new Web3Eth(web3.givenProvider);
                } else {
                    eth = new Web3Eth(ethereum);
                }
            }

            if (typeof eth !== 'undefined') {
                var network = 0;
                network = await eth.net.getId();
                netID = network.toString();
                var params;
                if (isTestnet == "false") {
                    if (netID == "53556") {
                        alert("BDLT Network has already been added to Metamask.");
                        return;
                    } else {
                        params = [{
                            chainId: '0xD134',
                            chainName: 'BDLT Blockchain Mainnet',
                            nativeCurrency: {
                                name: 'BDLT',
                                symbol: 'BDLT',
                                decimals: 18
                            },
                            rpcUrls: ['https://rpc01.bdltscan.io/'],
                            blockExplorerUrls: ['https://explorer.bdltscan.io/']
                        }]
                    }
                }
                window.ethereum.request({ method: 'wallet_addEthereumChain', params })
                    .then(() => console.log('Success'))
                    .catch((error) => console.log("Error", error.message));
            } else {
                alert('Unable to locate a compatible web3 browser!');
            }
        }
        if(window?.tronWeb != undefined){
            window.addEventListener('message', function (e) {
        if (e.data.message && e.data.message.action == "tabReply") {
            console.log("tabReply event", e.data.message)
            if (e.data.message.data.data.node?.chain == '_'){
                console.log("tronLink currently selects the main chain")
            }else{
                console.log("tronLink currently selects the side chain")
            }
        }

        if (e.data.message && e.data.message.action == "setAccount") {
            console.log("setAccount event", e.data.message)
            console.log("current address:", e.data.message.data.address)
            window.location.reload()
        }
        if (e.data.message && e.data.message.action == "setNode") {
            console.log("setNode event", e.data.message)
           
          
       
      
          
       // Tronlink chrome v3.22.1 & Tronlink APP v4.3.4 started to support 
        if (e.data.message && e.data.message.action == "disconnect") {
            console.log("disconnect event", e.data.message.isTronLink);
            window.location.reload()
        }
          
       // Tronlink chrome v3.22.0 & Tronlink APP v4.3.4 started to support 
        if (e.data.message && e.data.message.action == "accountsChanged") {
            console.log("accountsChanged event", e.data.message)
            console.log("current address:", e.data.message.data.address)
            window.location.reload()
        }
          
       // Tronlink chrome v3.22.0 & Tronlink APP v4.3.4 started to support  
       
          
       // Tronlink chrome v3.22.0 & Tronlink APP v4.3.4 started to support   
        if (e.data.message && e.data.message.action == "accountsChanged") {
            console.log("accountsChanged event", e.data.message)
            // window.location.reload()
        }
          
        // Tronlink chrome v3.22.0 & Tronlink APP v4.3.4 started to support      
        if (e.data.message && e.data.message.action == "acceptWeb") {
            console.log("acceptWeb event", e.data.message)
        }
        // Tronlink chrome v3.22.0 & Tronlink APP v4.3.4 started to support      
        if (e.data.message && e.data.message.action == "disconnectWeb") {
            console.log("disconnectWeb event", e.data.message)
        }
          
        // Tronlink chrome v3.22.0 & Tronlink APP v4.3.4 started to support     
        if (e.data.message && e.data.message.action == "rejectWeb") {
            console.log("rejectWeb event", e.data.message)
            alert("Transaction Rejected.")
        }
           
        }
    })
}
// var obj = setInterval(async ()=>{
//       //if (window.tronLink.tronWeb)
//         if (window.tronWeb) {
//             clearInterval(obj)
//           //let tronweb = window.tronLink.tronWeb
//             let tronweb = window.tronWeb
//         }
//     }, 10)
 
</script>
</html>